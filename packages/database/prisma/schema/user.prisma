model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String
  userTypeID String //for prisma relation
  userType  UserType @relation(fields:[userTypeID], references:[id])
  updatedAt DateTime @default(now())

  employee Employee?
  patient  Patient?
  // sanitationRequests SanitationRequest[] @relation("sanitationRequests")
}

model Employee {
  id         Int           @id
  firstName  String
  lastName   String
  department Department?
  role       EmployeeRole?
  onShift    Boolean       @default(false)
  user       User          @relation(fields: [id], references: [id], onDelete: Cascade)

  assignedPatients Patient[] @relation("AssignedDoctor")
  // assignedRequests DeviceRequest[]   @relation("AssignedRequests")
  // createdRequests  DeviceRequest[]   @relation("CreatedRequests")
}

model Patient {
  id               Int                @id
  firstName        String
  lastName         String
  dateOfBirth      DateTime
  phone            String?
  assignedDoctor   Employee?          @relation("AssignedDoctor", fields: [assignedDoctorId], references: [id])
  assignedDoctorId Int?
  user             User               @relation(fields: [id], references: [id], onDelete: Cascade)
  // pharmacyRequests PharmacyRequest[] @relation("Prescriptions")
  patientRequests  PatientRequest[]   @relation("PatientRequests")
  TransportRequest TransportRequest[] @relation("TransportRequest")
}
